import React, { useLayoutEffect, useRef } from "react";
import { onBeforeRender } from "lingo3d/lib/events/onBeforeRender";
import { onAfterRender } from "lingo3d/lib/events/onAfterRender";
import StatsJS from "stats.js";
const Stats = ({ mode = "fps" }) => {
    const divRef = useRef(null);
    useLayoutEffect(() => {
        const div = divRef.current;
        if (!div)
            return;
        const stats = new StatsJS();
        stats.showPanel(mode === "fps" ? 0 : mode === "time" ? 1 : 2);
        div.appendChild(stats.dom);
        const beforeHandle = onBeforeRender(() => stats.begin());
        const afterHandle = onAfterRender(() => stats.end());
        return () => {
            beforeHandle.cancel();
            afterHandle.cancel();
        };
    }, []);
    return (React.createElement("div", { ref: divRef }));
};
export default Stats;
