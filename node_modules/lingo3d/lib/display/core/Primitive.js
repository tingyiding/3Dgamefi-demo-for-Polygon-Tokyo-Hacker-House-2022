import { applyMixins } from "@lincode/utils";
import { Mesh, MeshStandardMaterial } from "three";
import ObjectManager from "./ObjectManager";
import TexturedBasicMixin from "./mixins/TexturedBasicMixin";
import TexturedStandardMixin from "./mixins/TexturedStandardMixin";
import { primitiveDefaults, primitiveSchema } from "../../interface/IPrimitive";
class Primitive extends ObjectManager {
    static defaults = primitiveDefaults;
    static schema = primitiveSchema;
    material;
    transparent;
    constructor(geometry, transparent) {
        const material = new MeshStandardMaterial(transparent ? { transparent: true } : undefined);
        const mesh = new Mesh(geometry, material);
        // mesh.castShadow = true
        // mesh.receiveShadow = true
        super(mesh);
        this.material = material;
        this.transparent = transparent;
    }
    dispose() {
        if (this.done)
            return this;
        super.dispose();
        this.material.dispose();
        return this;
    }
}
applyMixins(Primitive, [TexturedStandardMixin, TexturedBasicMixin]);
export default Primitive;
//# sourceMappingURL=Primitive.js.map