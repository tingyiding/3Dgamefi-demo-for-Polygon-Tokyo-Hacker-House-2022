import { Vector3 } from "three";
import { onAfterRender } from "../../events/onAfterRender";
const cache = new WeakMap();
export default (object3d) => {
    if (cache.has(object3d))
        return cache.get(object3d).clone();
    const result = object3d.getWorldPosition(new Vector3());
    cache.set(object3d, result.clone());
    onAfterRender(() => cache.delete(object3d), true);
    return result;
};
//# sourceMappingURL=getWorldPosition.js.map